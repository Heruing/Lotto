{% extends 'base.html' %}

{% block content %}
<!--시간 표시-->
<p>페이지 로드: {{now}} | 로또 진행상황: {{cnt}}회</p>

<!--추천 번호-->
<div class="container box">
  <h1 class="rec" style="color:yellow; text-shadow: 3px 3px red;"> 추천 번호 </h1>
  {% for num in recommendNums %}
  {% if  num < 10 %}
    <a style="text-decoration: none" href="{% url 'recommend:detail' num %}" class="ball ball0">{{num}} </a>
  {% elif num < 20%}
    <a style="text-decoration: none" href="{% url 'recommend:detail' num %}" class="ball ball1">{{num}} </a>
  {% elif num < 30%}
    <a style="text-decoration: none" href="{% url 'recommend:detail' num %}" class="ball ball2">{{num}} </a>
  {% elif num < 40%}
    <a style="text-decoration: none" href="{% url 'recommend:detail' num %}" class="ball ball3">{{num}} </a>
  {% else %}
    <a style="text-decoration: none" href="{% url 'recommend:detail' num %}" class="ball ball4">{{num}} </a>
  {% endif %}
  {% endfor %}
  
  <div class="d-flex justify-content-center">
    <a href="{% url 'recommend:numbers' %}"><button class="btn btn-dark m-2">더 보기</button></a>
    <a href="https://dhlottery.co.kr/"><button class="btn btn-danger m-2">복권 사러 가기</button></a>
  </div>
</div>
<!-- 당첨 내역 -->
<div class="container mt-3 box">
    <div class="d-flex justify-content-between">
      <h2 class="rec">이전 당첨 내역</h2>
      <div class="btn-group">
        <button class="btn btn-secondary dropdown-toggle m-2" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          Pages
        </button>
        <ul class="dropdown-menu" style="height:30vh; overflow-y:scroll;">
          {% for page in pages %}
            <a class="dropdown-item" href="{% url 'recommend:index' page %}">{{page}}</a>
          {% endfor %}
        </ul>
      </div>
    </div>
    <table class="table table-dark table-striped" style="border: solid 1px darkgrey;">
      <tr class="table-dark">
        <th scope="col">회차</th>
        <th scope="col">번호</th>
        <th scope="col">추첨일</th>
      </tr>
      <tbody>
        {% for number in numbers %}
          <tr>
            <th class="table-dark">{{number.drwNo}}</th>
            <td class="table-dark">
              {% for num in number.nums %}
              {% if  num < 10 %}
                <a style="text-decoration: none" href="{% url 'recommend:detail' num %}" class="ball ball0">{{num}} </a>
              {% elif num < 20%}
                <a style="text-decoration: none" href="{% url 'recommend:detail' num %}" class="ball ball1">{{num}} </a>
              {% elif num < 30%}
                <a style="text-decoration: none" href="{% url 'recommend:detail' num %}" class="ball ball2">{{num}} </a>
              {% elif num < 40%}
                <a style="text-decoration: none" href="{% url 'recommend:detail' num %}" class="ball ball3">{{num}} </a>
              {% else %}
                <a style="text-decoration: none" href="{% url 'recommend:detail' num %}" class="ball ball4">{{num}} </a>
              {% endif %}
              {% endfor %}
            </td>
            <td class="table-dark">
              {{number.drwNoDate}}
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    
    <!---->
    <div class="box p-3 row">
      <div class="box col-sm-12 col-md-6 align-middle">
        <div class="p-2">
          <h4 class="rec">최다 등장 번호</h4>
          {% for number in bestNumbers %}
          {% if  number < 10 %}
            <a style="text-decoration: none" href="{% url 'recommend:detail' number %}" class="ball ball0">{{number}} </a>
          {% elif number < 20%}
            <a style="text-decoration: none" href="{% url 'recommend:detail' number %}" class="ball ball1">{{number}} </a>
          {% elif number < 30%}
            <a style="text-decoration: none" href="{% url 'recommend:detail' number %}" class="ball ball2">{{number}} </a>
          {% elif number < 40%}
            <a style="text-decoration: none" href="{% url 'recommend:detail' number %}" class="ball ball3">{{number}} </a>
          {% else %}
            <a style="text-decoration: none" href="{% url 'recommend:detail' number %}" class="ball ball4">{{number}} </a>
          {% endif %}
          {% endfor %}
        </div>
        <br>
        <div class="p-2">
          <h4 class="rec">최소 등장 번호</h4>
          {% for number in worstNumbers %}
          {% if  number < 10 %}
            <a style="text-decoration: none" href="{% url 'recommend:detail' number %}" class="ball ball0">{{number}} </a>
          {% elif number < 20%}
            <a style="text-decoration: none" href="{% url 'recommend:detail' number %}" class="ball ball1">{{number}} </a>
          {% elif number < 30%}
            <a style="text-decoration: none" href="{% url 'recommend:detail' number %}" class="ball ball2">{{number}} </a>
          {% elif number < 40%}
            <a style="text-decoration: none" href="{% url 'recommend:detail' number %}" class="ball ball3">{{number}} </a>
          {% else %}
            <a style="text-decoration: none" href="{% url 'recommend:detail' number %}" class="ball ball4">{{number}} </a>
          {% endif %}
          {% endfor %}
        </div>
      </div>
      <div class="box col-sm-12 col-md-6">
        <div class="p-2">
          <h4 class="rec">최장 미당첨 번호</h4>
          <table class="table table-dark table-striped" style="border: solid 1px darkgrey;">
            <tr class="table-dark">
              <th scope="col">번호</th>
              <th scope="col">당첨 회차</th>
              <th scope="col">미당첨 주차</th>
            </tr>
            <tbody>
              {% for number in longNums %}
                <tr>
                  <th>
                    {% if  number.0 < 10 %}
                      <a style="text-decoration: none" href="{% url 'recommend:detail' number.0 %}" class="ball ball0">{{number.0}} </a>
                    {% elif number.0 < 20%}
                      <a style="text-decoration: none" href="{% url 'recommend:detail' number.0 %}" class="ball ball1">{{number.0}} </a>
                    {% elif number.0 < 30%}
                      <a style="text-decoration: none" href="{% url 'recommend:detail' number.0 %}" class="ball ball2">{{number.0}} </a>
                    {% elif number.0 < 40%}
                      <a style="text-decoration: none" href="{% url 'recommend:detail' number.0 %}" class="ball ball3">{{number.0}} </a>
                    {% else %}
                      <a style="text-decoration: none" href="{% url 'recommend:detail' number.0 %}" class="ball ball4">{{number.0}} </a>
                    {% endif %}
                  </th>
                  <td>{{number.1}}회</td>
                  <td>{{number.2}}회</td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>


  </div>
{% endblock content %}